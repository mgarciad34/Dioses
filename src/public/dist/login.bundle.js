(()=>{"use strict";class t{constructor(t,e){this.email=t,this.contrasena=e}getJSON(){return{correo:this.email,contrasena:this.contrasena}}}var e=document.getElementById("email"),o=document.getElementById("password");document.getElementById("btniniciar").addEventListener("click",(function(r){r.preventDefault(),async function(t){try{const e=await fetch("http://127.0.0.1:8000/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Error de red: ${e.status}`);return await e.json()}catch(t){throw console.error("Error al enviar los datos:",t.message),t}}(new t(e.value,o.value).getJSON()).then((function(t){sessionStorage.setItem("token",t.token),sessionStorage.setItem("rol",t.rol),"humano"==t.rol?window.location.href="./dashboardhumano.html":"dios"==t.rol&&(window.location.href="./dashboarddios.html")})).catch((function(t){console.error("Error al registrar:",t.message)}))}))})();