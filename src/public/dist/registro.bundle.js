(()=>{"use strict";function e(e){return 1==/\b(?:[a-z][A-Za-z]{2,}|[A-Z][A-Za-z]{2,}|\b[A-Z][a-z]{2,}\b)\b/.test(e)&&e.charAt(0).toUpperCase()+e.slice(1)}function t(e){return/^[A-Za-zñÑ0-9_]{2,15}@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/.test(e)}function n(e){return/^[A-Za-z0-9*#$.]{6,30}$/.test(e)}function r(e,t){var n=!1;return e===t&&(n=!0),n}class o{constructor(e,t,n,r){this.name=e,this.email=t,this.contrasena=n,this.confirmarcontrasena=r}getJSON(){return{nombre:this.name,correo:this.email,contrasena:this.contrasena,confirmarcontrasena:this.confirmarcontrasena}}}var a=document.getElementById("name"),c=document.getElementById("email"),s=document.getElementById("password"),i=document.getElementById("confirmpassword"),u=document.getElementById("registrarse"),l=document.getElementById("mensajeContrasena"),m=document.getElementById("mensajeConfirmar"),d=document.getElementById("mensajeNombre"),v=document.getElementById("mensajeEmail");const f="green",E="red";function g(e,t,n){e.style.color=n,e.innerHTML=t}a.addEventListener("input",(function(){!1===e(a.value)?g(d,"Nombre Incorrecto",E):g(d,"Nombre Correcto",f)})),c.addEventListener("input",(function(){!1===t(c.value)?g(v,"Correo Incorrecto",E):g(v,"Correo Correcto",f)})),s.addEventListener("input",(function(){!function(e){var t=e.length,r=!0;(t<6||t>12)&&(r=!1,g(l,"El tamaño debe ser entre 6 y 12",E)),!1===n(e)&&(r=!1,g(l,"El formato de contraseña no es válido",E)),!0===r&&g(l,"Contraseña válida",f)}(s.value)})),i.addEventListener("input",(function(){!0===r(s.value,i.value)?g(m,"Las contraseñas coinciden",f):g(m,"Las contraseñas no coinciden",E)})),u.addEventListener("click",(function(u){u.preventDefault();const l=e(a.value),m=t(c.value),d=n(s.value),v=r(s.value,i.value);l&&m&&d&&v?async function(e){try{const t=await fetch("http://127.0.0.1:8000/api/nacer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(console.log(t.body),!t.ok)throw new Error(`Error de red: ${t.status}`)}catch(e){console.error("Error al enviar los datos:",e.message)}}(new o(a.value,c.value,s.value,i.value).getJSON()).then((function(){})).catch((function(e){console.error("Error al registrar:",e.message)})):alert("Por favor, completa correctamente todos los campos.")}))})();