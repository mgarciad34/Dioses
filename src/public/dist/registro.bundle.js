(()=>{"use strict";function e(e){return 1==/\b(?:[a-z][A-Za-z]{2,}|[A-Z][A-Za-z]{2,}|\b[A-Z][a-z]{2,}\b)\b/.test(e)&&e.charAt(0).toUpperCase()+e.slice(1)}function t(e){return/^[A-Za-zñÑ0-9_]{2,15}@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/.test(e)}function n(e){return/^[A-Za-z0-9*#$.]{6,30}$/.test(e)}function o(e,t){var n=!1;return e===t&&(n=!0),n}class r{constructor(e,t,n,o){this.name=e,this.email=t,this.contrasena=n,this.confirmarcontrasena=o}getJSON(){return{nombre:this.name,correo:this.email,contrasena:this.contrasena,confirmarcontrasena:this.confirmarcontrasena}}}var a=document.getElementById("name"),c=document.getElementById("email"),s=document.getElementById("password"),i=document.getElementById("confirmpassword"),l=document.getElementById("registrarse"),u=document.getElementById("mensajeContrasena"),d=document.getElementById("mensajeConfirmar"),m=document.getElementById("mensajeNombre"),v=document.getElementById("mensajeEmail");const f="green",E="red";function h(e,t,n){e.style.color=n,e.innerHTML=t}a.addEventListener("input",(function(){!1===e(a.value)?h(m,"Nombre Incorrecto",E):h(m,"Nombre Correcto",f)})),c.addEventListener("input",(function(){!1===t(c.value)?h(v,"Correo Incorrecto",E):h(v,"Correo Correcto",f)})),s.addEventListener("input",(function(){!function(e){var t=e.length,o=!0;(t<6||t>12)&&(o=!1,h(u,"El tamaño debe ser entre 6 y 12",E)),!1===n(e)&&(o=!1,h(u,"El formato de contraseña no es válido",E)),!0===o&&h(u,"Contraseña válida",f)}(s.value)})),i.addEventListener("input",(function(){!0===o(s.value,i.value)?h(d,"Las contraseñas coinciden",f):h(d,"Las contraseñas no coinciden",E)})),l.addEventListener("click",(function(l){l.preventDefault();const u=e(a.value),d=t(c.value),m=n(s.value),v=o(s.value,i.value);u&&d&&m&&v?async function(e){try{const t=await fetch("http://127.0.0.1:8000/api/nacer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(console.log(t.body),!t.ok)throw new Error(`Error de red: ${t.status}`)}catch(e){console.error("Error al enviar los datos:",e.message)}}(new r(a.value,c.value,s.value,i.value).getJSON()).then((function(){window.location.href="./index.html"})).catch((function(e){console.error("Error al registrar:",e.message)})):alert("Por favor, completa correctamente todos los campos.")}))})();