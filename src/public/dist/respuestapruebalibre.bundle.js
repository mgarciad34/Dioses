document.addEventListener("DOMContentLoaded",(function(){const e=localStorage.getItem("respuesta"),t=JSON.parse(e),o=t.pregunta;document.getElementById("preguntaLabel").textContent=o,document.getElementById("responderBtn").addEventListener("click",(function(){const e=document.getElementById("respuestaText").value,o=t.prueba_id,n=sessionStorage.getItem("id_humano"),r=sessionStorage.getItem("token"),a={id:o,respuesta:e};fetch("http://127.0.0.1:8000/api/humano/resultado/prueba/libre",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(a)}).then((e=>{if(!e.ok)throw new Error("Hubo un problema con la solicitud");return e.json()})).then((e=>{console.log(e);const t={id:o,id_humano:n,superada:e.superada};fetch("http://127.0.0.1:8000/api/humano/superada",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}).then((e=>{if(!e.ok)throw new Error("Hubo un problema con la solicitud");return e.json()})).then((e=>{window.location.href="dashboardhumanovivo.html"})).catch((e=>{console.error("Error:",e)}))})).catch((e=>{console.error("Error:",e)}))}))}));