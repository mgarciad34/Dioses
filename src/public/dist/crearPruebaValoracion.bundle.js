(()=>{"use strict";class e{constructor(e,o,t){this.pregunta=e,this.valor=o,this.id_dios=t}getJSON(){return{pregunta:this.pregunta,valor:this.valor,id_dios:this.id_dios}}}document.getElementById("btnvaloracion").addEventListener("click",(function(){var o,t=document.getElementById("pregunta3"),r=document.getElementById("puntuacion"),n=t.value,a=r.value,s=sessionStorage.getItem("usuario");if(!s)throw new Error("Usuario no reconocido.");"Zeus"==s?o=new e(n,a,1):"Poseidon"==s?o=new e(n,a,2):"Hades"==s&&(o=new e(n,a,3)),console.log(o),async function(e){try{const o=sessionStorage.getItem("token"),t=await fetch("http://127.0.0.1:8000/api/dioses/crear/prueba/valoracion",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(e)}),r=await t.text();if(console.log(r),!t.ok)throw new Error(`Error de red: ${t.status}`)}catch(e){console.error("Error al enviar los datos:",e.message)}}(o.getJSON()).then((()=>{window.location.href="./dashboarddios.html"})).catch((e=>{console.error("Error al enviar los datos:",e)}))}))})();